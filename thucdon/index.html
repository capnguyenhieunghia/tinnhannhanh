<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thực đơn</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div style="padding: 10px; background-color: #00008B;  width: 100px; text-align: center;"><a href="../index.html"
            style="text-decoration: none; color: white;">Quay lại</a></div>
    <div class="#" style="position: absolute; padding: 15px; background-color: navy; top: 0;  right: 0;"><a
            href="./thucdon.html" style="color: white; text-decoration: none;">Quản Lý</a></div>
    <h1 style="text-align: center;">Thực đơn</h1>
    <p id="last-updated"></p>
    <table id="menu-table">
        <tbody>
            <!-- The data will be dynamically inserted here -->
        </tbody>
    </table>

    <script>
        fetch('https://docs.google.com/spreadsheets/d/1X9YB5k7Aoo4H5kS5vgCIfgPye4QayYtVh0yk_AWs8BY/gviz/tq?tqx=out:json')
            .then(response => response.text())
            .then(data => {
                // Parse the JSON data
                const jsonData = JSON.parse(data.substring(47, data.length - 2));
                const rows = jsonData.table.rows;

                // Populate the table
                const tableBody = document.getElementById('menu-table').getElementsByTagName('tbody')[0];
                rows.forEach(row => {
                    const newRow = document.createElement('tr');
                    row.c.forEach(cell => {
                        const newCell = document.createElement('td');
                        newCell.textContent = cell?.v || '';
                        newRow.appendChild(newCell);
                    });
                    tableBody.appendChild(newRow);
                });

                // Display the last updated date
                const lastUpdatedElement = document.getElementById('last-updated');
                const currentDate = new Date();
                lastUpdatedElement.textContent = `Cập nhật lần cuối: ${currentDate.toLocaleString()}`;
            })
            .catch(error => console.error('Error fetching data:', error));
    </script>
</body>

</html>